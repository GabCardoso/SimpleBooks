<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title class="ion-text-center">
      Simple Books
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ng-container *ngIf="exibirAutores">
    <ng-container *ngIf="( autores | async ) as autores">

      <ng-container *ngIf="autores.length == 0">
        <ion-row class="ion-padding">
          <ion-col size="12" class="ion-text-center">
            <ion-label><strong>Nenhum Autor Cadastrado. Deseja adicionar o primeiro autor?</strong></ion-label>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="12" class="ion-text-center">
            <ion-button (click)="adicionarAutor()" fill="clear" size="large">
              <ion-icon color="primary" slot="icon-only" name="add-circle-outline"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>
      </ng-container>

      <ng-container *ngIf="autores.length > 0">
        <ion-list-header>
          <ion-title color="primary">Autores</ion-title>
          <ion-button (click)="adicionarAutor()" fill="clear">
            <ion-icon slot="icon-only" name="add-outline"></ion-icon>
          </ion-button>
        </ion-list-header>
        <ion-list *ngFor="let autor of autores">
          <ion-item>
            <ion-label (click)="carregarDetalhesAutor(autor)"><strong>{{ autor.nome }}</strong></ion-label>
            <ion-button (click)="deletarAutor(autor)" fill="clear">
              <ion-icon color="danger" slot="icon-only" name="trash-outline"></ion-icon>
            </ion-button>
            <ion-button (click)="editarAutor(autor)" fill="clear">
              <ion-icon slot="icon-only" name="create-outline"></ion-icon>
            </ion-button>
          </ion-item>
        </ion-list>
      </ng-container>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="exibirDetalheAutor">
    <ion-card-header class="ion-text-center">
      <ion-button (click)="voltarListaAutores()" fill="clear">
        <ion-icon slot="icon-only" name="arrow-back-outline"></ion-icon>
      </ion-button>
      <ion-card-title><strong>{{ autor.nome }}</strong></ion-card-title>
    </ion-card-header>
    <ion-item>
      <ion-label><strong>Data de Nascimento: </strong>{{ autor.dataFormatada }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label class="ion-text-wrap"><strong>Biografia: </strong>{{ autor.biografia }}</ion-label>
    </ion-item>
    <ion-list-header class="ion-text-start">
      <ion-title><strong>Livros</strong></ion-title>
      <ion-button (click)="adicionarLivro(autor)" fill="clear">
        <ion-icon slot="icon-only" name="add-outline"></ion-icon>
      </ion-button>
    </ion-list-header>
    <ng-container *ngIf="( livros | async ) as livros">
      <ion-list *ngFor="let livro of livros">
        <ion-item>
          <ion-label (click)="carregarDetalhesLivro(livro)"><strong>{{ livro.titulo }}</strong></ion-label>
          <ion-button (click)="deletarLivro(livro)" fill="clear">
            <ion-icon color="danger" slot="icon-only" name="trash-outline"></ion-icon>
          </ion-button>
          <ion-button (click)="editarLivro(livro)" fill="clear">
            <ion-icon slot="icon-only" name="create-outline"></ion-icon>
          </ion-button>
        </ion-item>
      </ion-list>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="exibirDetalheLivro">
    <ion-card-header class="ion-text-center">
      <ion-button (click)="voltarDetalhesAutor()" fill="clear">
        <ion-icon slot="icon-only" name="arrow-back-outline"></ion-icon>
      </ion-button>
      <ion-card-title><strong>{{ livro.titulo }}</strong></ion-card-title>
    </ion-card-header>
    <ion-item>
      <ion-label><strong>Ano: </strong>{{ livro.ano }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label><strong>PÃ¡ginas: </strong>{{ livro.paginas }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label><strong>Nota: </strong>{{ livro.nota }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label><strong>Resumo: </strong>{{ livro.resumo }}</ion-label>
    </ion-item>
  </ng-container>
</ion-content>